# ShellCheck configuration for Jsh
# https://www.shellcheck.net/wiki/
shell=bash

# =============================================================================
# Disabled checks (intentional patterns in shell configuration)
# =============================================================================

# SC1090: Can't follow non-constant source
#   - Jsh uses dynamic sourcing for modularity
disable=SC1090

# SC1091: Not following sourced file
#   - External files loaded at runtime
disable=SC1091

# SC2034: Unused variables
#   - Many variables are exported for shell use or set for other modules
disable=SC2034

# SC2154: Variable referenced but not assigned
#   - Variables are often set by other modules before use
disable=SC2154

# SC2155: Declare and assign separately to avoid masking return values
#   - Shell config files use this pattern extensively for cleaner code
disable=SC2155

# SC2317: Command appears to be unreachable
#   - Many functions are registered as callbacks (zle widgets, hooks, traps)
disable=SC2317

# SC2181: Check exit code directly with 'if mycmd;'
#   - Some patterns (heredocs, captured output) make direct checking awkward
disable=SC2181

# SC2015: Note that A && B || C is not if-then-else
#   - Intentional pattern used for debug/logging functions where fallback is benign
disable=SC2015

# SC2059: Don't use variables in printf format string
#   - Intentional for colored output with ANSI escape codes
disable=SC2059

# SC2064: Use single quotes in trap, otherwise expands now
#   - Intentional: tmpdir captured at trap definition time
disable=SC2064

# SC2029: Note that this expands on the client side
#   - Intentional for SSH command construction
disable=SC2029

# SC2012: Use find instead of ls
#   - Simple file counting where filenames are controlled
disable=SC2012

# =============================================================================
# Optional: Severity levels for CI
# =============================================================================
# Uncomment to fail only on errors (not warnings/info/style)
# severity=error

# =============================================================================
# External sources (whitelist patterns)
# =============================================================================
# source-path=lib/
# source-path=src/
